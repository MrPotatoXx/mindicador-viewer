---
import Layout from '../components/Layout.astro'; // Se importa el layout general para estructurar la p谩gina
import IndicadorCard from '../components/IndicadorCard.astro'; // Se importa el componente para mostrar la tarjeta de cada indicador
import { getIndicadores } from '../utils/api.js'; // Se importa la funci贸n para obtener los datos de los indicadores

// Se obtiene la informaci贸n actual de todos los indicadores mediante una llamada as铆ncrona
const data = await getIndicadores();
---

<Layout title="Inicio - Indicadores Econ贸micos">
  <!-- T铆tulo principal de la p谩gina -->
  <h1 class="text-3xl font-bold mb-6 text-center text-blue-700"> Indicadores Econ贸micos de Hoy</h1>

  <section>
    <!-- Subt铆tulo de la secci贸n: muestra los indicadores actuales -->
    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Indicadores actuales:</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      <!-- Cada componente IndicadorCard muestra la informaci贸n de un indicador espec铆fico -->
      <IndicadorCard nombre={data.uf.nombre} valor={data.uf.valor} unidad={data.uf.unidad_medida} slug="uf" />
      <IndicadorCard nombre={data.ivp.nombre} valor={data.ivp.valor} unidad={data.ivp.unidad_medida} slug="ivp" />
      <IndicadorCard nombre={data.dolar.nombre} valor={data.dolar.valor} unidad={data.dolar.unidad_medida} slug="dolar" />
      <IndicadorCard nombre={data.dolar_intercambio.nombre} valor={data.dolar_intercambio.valor} unidad={data.dolar_intercambio.unidad_medida} slug="dolar_intercambio" />
      <IndicadorCard nombre={data.euro.nombre} valor={data.euro.valor} unidad={data.euro.unidad_medida} slug="euro" />
      <IndicadorCard nombre={data.ipc.nombre} valor={data.ipc.valor} unidad={data.ipc.unidad_medida} slug="ipc" />
      <IndicadorCard nombre={data.utm.nombre} valor={data.utm.valor} unidad={data.utm.unidad_medida} slug="utm" />
      <IndicadorCard nombre={data.imacec.nombre} valor={data.imacec.valor} unidad={data.imacec.unidad_medida} slug="imacec" />
      <IndicadorCard nombre={data.tpm.nombre} valor={data.tpm.valor} unidad={data.tpm.unidad_medida} slug="tpm" />
      <IndicadorCard nombre={data.libra_cobre.nombre} valor={data.libra_cobre.valor} unidad={data.libra_cobre.unidad_medida} slug="libra_cobre" />
      <IndicadorCard nombre={data.tasa_desempleo.nombre} valor={data.tasa_desempleo.valor} unidad={data.tasa_desempleo.unidad_medida} slug="tasa_desempleo" />
      <IndicadorCard nombre={data.bitcoin.nombre} valor={data.bitcoin.valor} unidad={data.bitcoin.unidad_medida} slug="bitcoin" />
    </div>
  </section>
</Layout>
